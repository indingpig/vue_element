<div class="permission">
    <table >
        <tr>
            <th>{{'com.hytera.InfoSystem' | mess}}
                <span class="required">*</span>
            </th>
            <th>{{'com.hytera.systemRole' | mess}}
                <span class="required">*</span>
            </th>
            <th>{{'com.hytera.systemAccount' | mess}}
                <span class="required">*</span>
            </th>
            <th>{{'com.hytera.detailedDescription' | mess}}</th>
        </tr>
        <tr ng-repeat="num in data[component.key]">
            <td >
                <ui-select ui-select-required ui-select-open-on-focus safe-multiple-to-single
                    name="{{}}"
                    id="{{}}"
                    ng-disabled="readOnly"
                    ng-required="isRequired(component)"
                    ng-model="data[component.key][$index]['systemCode']"
                    theme="bootstrap"
                    ng-change="getSystemRoleCode(data[component.key][$index]['systemCode']['itemKey'], $index)">
                        <ui-select-match class="ui-select-match">
                            <span ng-bind="$select.selected.itemValue"></span> 
                        </ui-select-match>
                        <ui-select-choices class="ui-select-choices" repeat="item in (systemCode | filter:$select.search)">
                            <span ng-bind="item.itemValue"></span>
                        </ui-select-choices>
                </ui-select>
                
            </td>
            <td>
                <ui-select ui-select-required ui-select-open-on-focus safe-multiple-to-single
                    name="{{}}"
                    id="{{}}"
                    ng-disabled="readOnly"
                    ng-required="isRequired(component)"
                    ng-model="data[component.key][$index]['systemRoleCode']"
                    theme="bootstrap">
                        <ui-select-match class="ui-select-match">
                            <span ng-bind="$select.selected.itemValue"></span> 
                        </ui-select-match>
                        <ui-select-choices class="ui-select-choices" repeat="item in (systemRoleCode[$index] | filter:$select.search)">  
                            <span ng-bind="item.itemValue"></span>
                        </ui-select-choices>
                </ui-select>
            </td>
            <td>
                <input type="text" ng-model="data[component.key][$index]['systemAccount']" ng-required="isRequired(component)" class="form-control">
            </td>
            <td>
                <textarea name="" id="" cols="30" rows="2" ng-model="data[component.key][$index]['systemMemo']" class="form-control"></textarea>
            </td>
            <td  ng-if="data[component.key].length > 1">
                <a ng-click="removeRow($index)" class="btn btn-default">
                    <span class="fa-times-circle-o"></span>
                </a>
            </td>
        </tr>
    </table>
    <a class="btn btn-primary" ng-click="addRow()">
        <span class="glyphicon glyphicon-plus"></span>
        {{'button.add' | mess}}
    </a>
</div>

<style>
    .permission table {
        width: 100%;
    }
    .permission table th, .permission table td {
        border: 1px solid #ddd;
        padding: 8px;
        line-height: 1.4285;
        vertical-align: top;
        font-weight: 100;
    }
    .permission .required {
        color: red;
    }
</style>