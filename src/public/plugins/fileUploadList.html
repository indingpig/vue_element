<style>
    .fileInputP {
        display: inline-block;
        border-radius: 5px;
        overflow: hidden;
        position: relative;
    }

    .file {
        position: absolute;
        left: 0;
        top: 0;
        right: 0;
        bottom: 0;
        opacity: 0;
    }
</style>
<div class="input-group">
    <!-- 附件验证input -->
    <input type="hidden" ng-model="data[component.key + 'list']" name="{{componentId}}" ng-required="isRequired(component)">
    <form action="/oms/services/rest/docMgrtService/uploadSingleByPath" enctype="multipart/form-data" method="post" id="{{componentId}}">
        <div class="fileInputP" ng-disabled="isDisabled(component)">
            <button type="button" class="btn btn-info btn-sm" ng-bind="'com.hytera.selectFile' | mess" ng-disabled="isDisabled(component)"></button>
            <input type="file" multiple id="{{componentId}}file" name="files" onchange="angular.element(this).scope().fileNameChanged(this)" ng-disabled="isDisabled(component)" class="file">
            <input type="text" name="path" ng-model="path" ng-hide="true">
        </div>
        <div class="upload-list" ng-show="percent != 100">
            <div ng-repeat="file in fileList">
                <div><span ng-bind="'com.hytera.FileName' | mess"></span>:{{file.name}}</div>
            </div>
            <div ng-if="fileList.length >= 0">
                <progress id="{{'progressBar' + key}}" value="0" max="100" style="width: 300px;"></progress>
                <span id="{{'percentage' + key}}"></span>
            </div>
        </div>
    </form>
    <div class="uploadfiles-download">
        <div ng-repeat="file in uploadList" >
            <span class="bg-{{file.suffix}}"></span>
            <span ng-show="file.suffixTemp == 'file'" style="margin-left: -3px"><i class="fa-file"></i></span>
            <a ng-href="{{file.link}}" ng-bind="file.docName"></a> 
            <a href="javascript:void(0)" ng-bind="'com.hytera.delete'|mess" ng-click="del(file.attachmentId, file.docName, file.createBy)" ng-show="!isDisabled(component)"></a>
            <button type="button" class="btn btn-info btn-sm" ng-bind="'com.hytera.pdf.preview' | mess" ng-click="viewerPdf(file)" ng-if="file.isSupportFile"></button>
        </div>
    </div>
</div>